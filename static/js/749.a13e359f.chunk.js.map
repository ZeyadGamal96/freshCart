{"version":3,"file":"static/js/749.a13e359f.chunk.js","mappings":"mMAOe,SAASA,IACtB,MAAM,YAAEC,IAAgBC,EAAAA,EAAAA,YAAWC,EAAAA,IAC5BC,EAAQC,IAAaC,EAAAA,EAAAA,WAAS,GAiBrC,IAAIC,EAAmBC,EAAAA,GAAW,CAChCC,MAAOD,EAAAA,KAAaE,SAAS,4BAA4BC,QAAQ,mEAAoE,wBACrIC,KAAMJ,EAAAA,KAAaK,WAAWH,SAAS,sBAGrCI,GAASC,EAAAA,EAAAA,IAAU,CACrBC,cAAe,CACbC,QAAS,GACTR,MAAO,GACPG,KAAM,IAERL,mBACAW,SA3BFC,eAA+BC,GAC7B,IACEf,GAAU,GACV,MAAM,KAAEgB,SAAepB,EAAYmB,GACnCE,YAAW,KACTC,OAAOC,SAASC,KAAW,OAAJJ,QAAI,IAAJA,OAAI,EAAJA,EAAMK,QAAQC,GAAG,GACvC,IACL,CAAE,MAAOC,GACPC,QAAQD,MAAMA,EAChB,CAAC,QACCvB,GAAU,EACZ,CACF,IAkBA,OACEyB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,gBACJF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,OAAOb,SAAUJ,EAAOoB,aAAaF,SAAA,EACnDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,aAAYC,SAAC,WAC9BC,EAAAA,EAAAA,KAAA,SAAOE,KAAK,SAASC,KAAK,QAAQC,GAAG,WAAWN,UAAU,eAAeO,MAAOxB,EAAOM,OAAOX,MAAO8B,SAAUzB,EAAO0B,aAAcC,OAAQ3B,EAAO4B,aAClJ5B,EAAO6B,OAAOlC,OAASK,EAAO8B,QAAQnC,QAAUwB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qBAAoBC,SAAElB,EAAO6B,OAAOlC,YAEtGqB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,aAAYC,SAAC,UAC9BC,EAAAA,EAAAA,KAAA,SAAOE,KAAK,OAAOC,KAAK,OAAOC,GAAG,WAAWN,UAAU,eAAeO,MAAOxB,EAAOM,OAAOR,KAAM2B,SAAUzB,EAAO0B,aAAcC,OAAQ3B,EAAO4B,WAAYG,YAAY,KACtK/B,EAAO6B,OAAO/B,MAAQE,EAAO8B,QAAQhC,OAASqB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qBAAoBC,SAAElB,EAAO6B,OAAO/B,WAEpGkB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,aAAYC,SAAC,aAC9BC,EAAAA,EAAAA,KAAA,YAAUE,KAAK,OAAOC,KAAK,UAAUC,GAAG,UAAUN,UAAU,eAAeO,MAAOxB,EAAOM,OAAOH,QAASsB,SAAUzB,EAAO0B,aAAcC,OAAQ3B,EAAO4B,iBAEzJT,EAAAA,EAAAA,KAAA,UAAQE,KAAK,SAASW,UAAWhC,EAAOiC,QAAShB,UAAU,yCAAwCC,SAChG5B,GAAU6B,EAAAA,EAAAA,KAACe,EAAAA,GAAS,CAACC,SAAS,EAAMC,OAAO,KAAKC,MAAM,KAAKC,UAAU,qBAAqBC,aAAc,CAAC,EAAGC,aAAa,qBAAqBC,OAAQ,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,UAAgB,aAKlN,C","sources":["pages/Checkout/Checkout.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport './Checkout.module.css'\r\nimport { useFormik } from 'formik'\r\nimport { CartContext } from '../../Context/CartContext'\r\nimport * as Yup from 'yup'\r\nimport { ColorRing } from 'react-loader-spinner'\r\n\r\nexport default function Checkout() {\r\n  const { userPayment } = useContext(CartContext);\r\n  const [loader, setLoader] = useState(false);\r\n\r\n  async function checkoutPayment(values) {\r\n    try {\r\n      setLoader(true);\r\n      const { data } = await userPayment(values);\r\n      setTimeout(() => {\r\n        window.location.href = data?.session.url;\r\n      }, 500);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      setLoader(false);\r\n    }\r\n  }\r\n  \r\n\r\n  let validationSchema = Yup.object({\r\n    phone: Yup.string().required('Phone number is required').matches(/^[(]{0,1}[0-9]{3}[)]{0,1}[-\\s.]{0,1}[0-9]{3}[-\\s.]{0,1}[0-9]{4}$/, 'Invalid phone number'),\r\n    city: Yup.string().nullable().required('City is required'),\r\n  });\r\n\r\n  let formik = useFormik({\r\n    initialValues: {\r\n      details: '',\r\n      phone: '',\r\n      city: '',\r\n    },\r\n    validationSchema,\r\n    onSubmit: checkoutPayment,\r\n  });\r\n\r\n  return (\r\n    <div className=\"w-75 mx-auto p-5 vh-100\">\r\n      <h1>Checkout :</h1>\r\n      <form className='pt-3' onSubmit={formik.handleSubmit}>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Phone</label>\r\n          <input type=\"number\" name=\"phone\" id=\"password\" className=\"form-control\" value={formik.values.phone} onChange={formik.handleChange} onBlur={formik.handleBlur} />\r\n          {formik.errors.phone && formik.touched.phone && (<div className=\"alert alert-danger\">{formik.errors.phone}</div>)}\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">City</label>\r\n          <input type=\"text\" name=\"city\" id=\"password\" className=\"form-control\" value={formik.values.city} onChange={formik.handleChange} onBlur={formik.handleBlur} placeholder=\"\" />\r\n          {formik.errors.city && formik.touched.city && (<div className=\"alert alert-danger\">{formik.errors.city}</div>)}\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Details</label>\r\n          <textarea type=\"text\" name=\"details\" id=\"details\" className=\"form-control\" value={formik.values.details} onChange={formik.handleChange} onBlur={formik.handleBlur} />\r\n        </div>\r\n        <button type=\"submit\" disabled={!formik.isValid} className=\"btn bg-main text-white d-block ms-auto\">\r\n          {loader ? (<ColorRing visible={true} height=\"25\" width=\"25\" ariaLabel=\"color-ring-loading\" wrapperStyle={{}} wrapperClass=\"color-ring-wrapper\" colors={['#fff', '#fff', '#fff', '#fff', '#fff']} />) : ('Pay')}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Checkout","userPayment","useContext","CartContext","loader","setLoader","useState","validationSchema","Yup","phone","required","matches","city","nullable","formik","useFormik","initialValues","details","onSubmit","async","values","data","setTimeout","window","location","href","session","url","error","console","_jsxs","className","children","_jsx","handleSubmit","type","name","id","value","onChange","handleChange","onBlur","handleBlur","errors","touched","placeholder","disabled","isValid","ColorRing","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors"],"sourceRoot":""}