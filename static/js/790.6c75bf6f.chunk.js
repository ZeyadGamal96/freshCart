"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[790],{4768:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var s=a(5043),c=a(1521);const n=a.p+"static/media/empty-cart.6ecc21f8e083ec4f0829.png";var i=a(1591),l=a(4362),r=a(5475),d=a(579);function o(){const{getLoggedCart:t,removeProductCart:e,updateCartQuantity:a,setNumOfCartItems:o}=(0,s.useContext)(c.M),[m,u]=(0,s.useState)([]),[x,h]=(0,s.useState)(0),[j,p]=(0,s.useState)(0),[f,N]=(0,s.useState)(!0);async function C(t,e){const{data:s}=await a(t,e);h(s.data.totalCartPrice),u(s.data.products),p(s.numOfCartItems),N(!1)}return(0,s.useEffect)((()=>{!async function(){try{const{data:e}=await t();e&&e.data&&void 0!==e.numOfCartItems?(u(e.data.products),h(e.data.totalCartPrice),p(e.numOfCartItems)):(u([]),h(0),p(0)),N(!1)}catch(e){console.error("Error fetching cart:",e),N(!1)}}()}),[]),f?(0,d.jsx)(l.A,{}):(0,d.jsxs)("div",{className:"container bg-main-light p-4 min-vh-100",children:[(0,d.jsx)(i.m,{children:(0,d.jsx)("title",{children:"Cart"})}),(0,d.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:(0,d.jsx)("h2",{className:"h1",children:"Shop Cart:"})}),(0,d.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,d.jsxs)("span",{className:"text-main",children:["Total Price: ",(0,d.jsxs)("span",{className:"text-black",children:[x," EGP"]})]}),(0,d.jsxs)("span",{className:"text-main",children:["Total Cart Items: ",(0,d.jsx)("span",{className:"text-black",children:j})]})]}),0===(null===m||void 0===m?void 0:m.length)?(0,d.jsx)("div",{className:"d-flex justify-content-center",children:(0,d.jsx)("img",{src:n,alt:"emptyCart",className:"w-50 text-center"})}):m.map((t=>(0,d.jsxs)("div",{className:"row border-top p-4 m-1 align-items-center",children:[(0,d.jsx)("div",{className:"col-md-1",children:(0,d.jsx)("img",{src:t.product.imageCover,className:"w-100",alt:"product_img"})}),(0,d.jsx)("div",{className:"col-md-11",children:(0,d.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,d.jsxs)("div",{className:"col-md-9",children:[(0,d.jsx)("h4",{children:t.product.title}),(0,d.jsxs)("h6",{className:"text-main my-3",children:["Price: ",(0,d.jsxs)("span",{className:"text-black",children:[t.price," EGP"]})," "]}),(0,d.jsxs)("h6",{className:"cursor-pointer",onClick:()=>{!async function(t){const{data:a}=await e(t);u(a.data.products),h(a.data.totalCartPrice),o(a.numOfCartItems),p(a.numOfCartItems),N(!1)}(t.product._id)},children:[(0,d.jsx)("i",{className:"fa-solid fa-trash-can text-danger"})," Remove"]})]}),(0,d.jsxs)("div",{className:"col-md-3 text-end pt-4",children:[(0,d.jsx)("button",{className:"btn btn-outline-main fw-bold",onClick:()=>{C(t.product._id,t.count+1)},children:"+"}),(0,d.jsx)("span",{className:"mx-2",children:t.count}),(0,d.jsx)("button",{className:"btn btn-outline-main fw-bold",onClick:()=>{C(t.product._id,t.count-1)},disabled:1===t.count&&"disabled",children:"-"})]})]})})]},t._id))),0===(null===m||void 0===m?void 0:m.length)?"":(0,d.jsx)(r.N_,{to:"/checkout",className:"btn bg-main w-100 text-white",children:"Checkout"})]})}}}]);
//# sourceMappingURL=790.6c75bf6f.chunk.js.map