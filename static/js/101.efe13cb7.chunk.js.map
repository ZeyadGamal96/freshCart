{"version":3,"file":"static/js/101.efe13cb7.chunk.js","mappings":"qPAWe,SAASA,IAAkB,IAADC,EAAAC,EACvC,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,CAAC,IACjCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,GACvC,IAAI,GAAEG,IAAOC,EAAAA,EAAAA,KAEb,MAAM,iBAAEC,EAAgB,kBAAEC,IAAsBC,EAAAA,EAAAA,YAAWC,EAAAA,IAY3DC,EAAAA,EAAAA,YAAU,MACRC,iBACE,MAAM,KAAEC,SAAeC,EAAAA,EAAMC,IAAI,mDAADC,OAAoDX,IACpFJ,EAAWY,EAAKA,MAChBT,GAAW,EACb,CACAa,EAAmB,GAClB,IAGH,MAAMC,EAASlB,EAAQkB,OAAuB,QAAjBpB,EAAGE,EAAQkB,cAAM,IAAApB,OAAA,EAAdA,EAAgBqB,KAAIC,IAAK,CACvDC,SAAUD,EACVE,UAAWF,MACP,GAEN,OAAIjB,GACKoB,EAAAA,EAAAA,KAACC,EAAAA,EAAM,KAGdC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBJ,EAAAA,EAAAA,KAACK,EAAAA,EAAM,CAAAD,UACLJ,EAAAA,EAAAA,KAAA,SAAAI,SAAQ3B,EAAQ6B,WAElBJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BC,SAAA,EAC1CJ,EAAAA,EAAAA,KAAA,OAAKG,UAAU,WAAUC,UACvBJ,EAAAA,EAAAA,KAACO,IAAY,CAACC,MAAOb,EAAQc,UAAU,EAAMC,SAAS,EAAOC,sBAAsB,EAAOC,gBAAgB,OAE5GV,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUC,SAAA,EACvBJ,EAAAA,EAAAA,KAAA,MAAIG,UAAU,UAASC,SAAE3B,EAAQ6B,SACjCN,EAAAA,EAAAA,KAAA,KAAGG,UAAU,yBAAwBC,SAAE3B,EAAQoC,eAC/Cb,EAAAA,EAAAA,KAAA,KAAGG,UAAU,eAAcC,SAAkB,QAAlB5B,EAAEC,EAAQqC,gBAAQ,IAAAtC,OAAA,EAAhBA,EAAkBuC,QAC/Cb,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sCAAqCC,SAAA,EAClDF,EAAAA,EAAAA,MAAA,KAAGC,UAAU,UAASC,SAAA,CAAE3B,EAAQuC,MAAM,WACtCd,EAAAA,EAAAA,MAAA,QAAAE,SAAA,EAAMJ,EAAAA,EAAAA,KAAA,KAAGG,UAAU,kCAAoC,IAAE1B,EAAQwC,sBAEnEjB,EAAAA,EAAAA,KAAA,UAAQG,UAAU,+BAA+Be,QAASA,MA9ClE7B,eAA0BP,GACxB,IAAI,KAAEQ,SAAeN,EAAiBF,GAClB,YAAhBQ,EAAK6B,QACPC,EAAAA,GAAMC,QAAQ/B,EAAKgC,QAAS,CAC1BC,SAAU,eACVC,SAAU,MAGdvC,EAAkBK,EAAKmC,eACzB,CAqC0EC,CAAWjD,EAAQK,GAAG,EAAGsB,SAAC,wBAKtG,C","sources":["pages/ProductDetails/ProductDetails.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport 'react-image-gallery/styles/css/image-gallery.css';\r\nimport { CartContext } from '../../Context/CartContext';\r\nimport toast from 'react-hot-toast';\r\nimport { Helmet } from 'react-helmet';\r\nimport Loader from '../../Components/Loader/Loader';\r\n\r\n\r\nexport default function ProductDetails() {\r\n  const [details, setDetails] = useState({});\r\n  const [Loading, setLoading] = useState(true);\r\n  let { id } = useParams();\r\n\r\n  const { addProductToCart, setNumOfCartItems } = useContext(CartContext);\r\n  async function addProduct(id) {\r\n    let { data } = await addProductToCart(id);\r\n    if (data.status === 'success') {\r\n      toast.success(data.message, {\r\n        position: 'bottom-right',\r\n        duration: 4000,\r\n      });\r\n    }\r\n    setNumOfCartItems(data.numOfCartItems)\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function getProductDetails() {\r\n      const { data } = await axios.get(`https://ecommerce.routemisr.com/api/v1/products/${id}`);\r\n      setDetails(data.data);\r\n      setLoading(false);\r\n    }\r\n    getProductDetails();\r\n  }, []);\r\n\r\n\r\n  const images = details.images ? details.images?.map(image => ({\r\n    original: image,\r\n    thumbnail: image\r\n  })) : [];\r\n\r\n  if (Loading) {\r\n    return <Loader/>\r\n  }\r\n  return (\r\n    <div className=\"container\">\r\n      <Helmet>\r\n        <title>{details.title}</title>\r\n      </Helmet>\r\n      <div className=\"row align-items-center mt-5\">\r\n        <div className=\"col-md-3\">\r\n          <ImageGallery items={images} autoPlay={true} showNav={false} showFullscreenButton={false} showPlayButton={false} />\r\n        </div>\r\n        <div className=\"col-md-9\">\r\n          <h2 className='fw-bold'>{details.title}</h2>\r\n          <p className='fw-bold text-secondary'>{details.description}</p>\r\n          <p className='fw-bold mt-4'>{details.category?.name}</p>\r\n          <div className='d-flex justify-content-between my-3'>\r\n            <p className='fw-bold'>{details.price} EPG</p>\r\n            <span><i className='fa-solid fa-star rating-color'></i> {details.ratingsAverage}</span>\r\n          </div>\r\n          <button className='btn bg-main w-100 text-white' onClick={() => { addProduct(details.id) }}>ADD TO CART</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ProductDetails","_details$images","_details$category","details","setDetails","useState","Loading","setLoading","id","useParams","addProductToCart","setNumOfCartItems","useContext","CartContext","useEffect","async","data","axios","get","concat","getProductDetails","images","map","image","original","thumbnail","_jsx","Loader","_jsxs","className","children","Helmet","title","ImageGallery","items","autoPlay","showNav","showFullscreenButton","showPlayButton","description","category","name","price","ratingsAverage","onClick","status","toast","success","message","position","duration","numOfCartItems","addProduct"],"sourceRoot":""}