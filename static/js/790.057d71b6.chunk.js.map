{"version":3,"file":"static/js/790.057d71b6.chunk.js","mappings":"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","sources":["pages/Cart/Cart.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport './Cart.module.css'\r\nimport { CartContext } from '../../Context/CartContext'\r\nimport EmptyCart from '../../assets/images/empty-cart.png'\r\nimport { Helmet } from 'react-helmet';\r\nimport Loader from '../../Components/Loader/Loader';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default function Cart() {\r\n  const { getLoggedCart, removeProductCart, updateCartQuantity, setNumOfCartItems } = useContext(CartContext);\r\n  const [products, setProducts] = useState([]);\r\n  const [cartPrice, setCartPrice] = useState(0);\r\n  const [cartItemsNumber, setCartItemsNumber] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n\r\n  async function getCart() {\r\n\r\n    const { data } = await getLoggedCart();\r\n    setProducts(data?.data.products);\r\n    setCartPrice(data?.data.totalCartPrice);\r\n    setCartItemsNumber(data?.numOfCartItems);\r\n    setNumOfCartItems(data?.numOfCartItems);\r\n    setLoading(false);\r\n\r\n  }\r\n\r\n\r\n  async function removeCart(id) {\r\n    const { data } = await removeProductCart(id);\r\n    setProducts(data?.data.products);\r\n    setCartPrice(data?.data.totalCartPrice);\r\n    setNumOfCartItems(data?.numOfCartItems);\r\n    setCartItemsNumber(data?.numOfCartItems);\r\n    setLoading(false);\r\n  }\r\n\r\n  async function CartQuantity(id, count) {\r\n    const { data } = await updateCartQuantity(id, count);\r\n    setCartPrice(data?.data.totalCartPrice);\r\n    setProducts(data?.data.products);\r\n    setCartItemsNumber(data?.numOfCartItems);\r\n    setLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getCart();\r\n  }, []);\r\n\r\n  if (products === null) {\r\n    return<>\r\n    <div>\r\n      <p>nothing</p>\r\n    </div>\r\n    </>\r\n  }\r\n\r\n  if (loading) {\r\n    return <Loader />\r\n  }\r\n\r\n  return (\r\n    <div className='container bg-main-light p-4 min-vh-100'>\r\n      <Helmet>\r\n        <title>Cart</title>\r\n      </Helmet>\r\n      <div className='d-flex align-items-center justify-content-between'>\r\n        <h2 className='h1'>Shop Cart:</h2>\r\n      </div>\r\n\r\n      <div className='d-flex justify-content-between'>\r\n        <span className='text-main'>Total Price: <span className='text-black'>{cartPrice} EGP</span></span>\r\n        <span className='text-main'>Total Cart Items: <span className='text-black'>{cartItemsNumber}</span></span>\r\n      </div>\r\n      {(products?.length === 0  ) ? (\r\n        <div className='d-flex justify-content-center'>\r\n          <img src={EmptyCart} alt='emptyCart' className='w-50 text-center' />\r\n        </div>\r\n      ) : (\r\n        products?.map((product) => (\r\n          <div className=\"row border-top p-4 m-1 align-items-center\" key={product._id}>\r\n            <div className=\"col-md-1\">\r\n              <img src={product.product.imageCover} className='w-100' alt=\"product_img\" />\r\n            </div>\r\n            <div className=\"col-md-11\">\r\n              <div className=\"d-flex justify-content-between\">\r\n                <div className=\"col-md-9\">\r\n                  <h4>{product.product.title}</h4>\r\n                  <h6 className='text-main my-3'>Price: <span className='text-black'>{product.price} EGP</span> </h6>\r\n                  <h6 className='cursor-pointer' onClick={() => { removeCart(product.product._id) }}>\r\n                    <i className='fa-solid fa-trash-can text-danger'></i> Remove\r\n                  </h6>\r\n                </div>\r\n                <div className=\"col-md-3 text-end pt-4\">\r\n                  <button className='btn btn-outline-main fw-bold' onClick={() => { CartQuantity(product.product._id, product.count + 1) }}>+</button>\r\n                  <span className='mx-2'>{product.count}</span>\r\n                  <button className='btn btn-outline-main fw-bold' onClick={() => { CartQuantity(product.product._id, product.count - 1) }} disabled={product.count === 1 ? 'disabled' : false}>-</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))\r\n      )}\r\n      {(products?.length === 0) ? ('') : (<Link to={'/checkout'} className='btn bg-main w-100 text-white'>Checkout</Link>)}\r\n    </div>\r\n  )\r\n}\r\n"],"names":["Cart","getLoggedCart","removeProductCart","updateCartQuantity","setNumOfCartItems","useContext","CartContext","products","setProducts","useState","cartPrice","setCartPrice","cartItemsNumber","setCartItemsNumber","loading","setLoading","async","CartQuantity","id","count","data","totalCartPrice","numOfCartItems","useEffect","getCart","_jsx","_Fragment","children","Loader","_jsxs","className","Helmet","length","src","EmptyCart","alt","map","product","imageCover","title","price","onClick","removeCart","_id","disabled","Link","to"],"sourceRoot":""}