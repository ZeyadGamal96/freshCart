{"version":3,"file":"static/js/790.6c75bf6f.chunk.js","mappings":"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","sources":["pages/Cart/Cart.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport './Cart.module.css'\r\nimport { CartContext } from '../../Context/CartContext'\r\nimport EmptyCart from '../../assets/images/empty-cart.png'\r\nimport { Helmet } from 'react-helmet';\r\nimport Loader from '../../Components/Loader/Loader';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default function Cart() {\r\n  const { getLoggedCart, removeProductCart, updateCartQuantity, setNumOfCartItems } = useContext(CartContext);\r\n  const [products, setProducts] = useState([]);\r\n  const [cartPrice, setCartPrice] = useState(0);\r\n  const [cartItemsNumber, setCartItemsNumber] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n\r\n  async function getCart() {\r\n    try {\r\n      const { data } = await getLoggedCart();\r\n      if (data && data.data && data.numOfCartItems !== undefined) {\r\n        setProducts(data.data.products);\r\n        setCartPrice(data.data.totalCartPrice);\r\n        setCartItemsNumber(data.numOfCartItems);\r\n      } else {\r\n        setProducts([]);\r\n        setCartPrice(0);\r\n        setCartItemsNumber(0);\r\n      }\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error(\"Error fetching cart:\", error);\r\n      setLoading(false);\r\n    }\r\n  }\r\n  \r\n\r\n  async function removeCart(id) {\r\n    const { data } = await removeProductCart(id);\r\n    setProducts(data.data.products);\r\n    setCartPrice(data.data.totalCartPrice);\r\n    setNumOfCartItems(data.numOfCartItems);\r\n    setCartItemsNumber(data.numOfCartItems);\r\n    setLoading(false);\r\n  }\r\n\r\n  async function CartQuantity(id, count) {\r\n    const { data } = await updateCartQuantity(id, count);\r\n    setCartPrice(data.data.totalCartPrice);\r\n    setProducts(data.data.products);\r\n    setCartItemsNumber(data.numOfCartItems);\r\n    setLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getCart();\r\n  }, []);\r\n\r\n\r\n  if (loading) {\r\n    return <Loader/>\r\n  }\r\n\r\n  return (\r\n    <div className='container bg-main-light p-4 min-vh-100'>\r\n      <Helmet>\r\n        <title>Cart</title>\r\n      </Helmet>\r\n      <div className='d-flex align-items-center justify-content-between'>\r\n        <h2 className='h1'>Shop Cart:</h2>\r\n        \r\n      </div>\r\n      \r\n      <div className='d-flex justify-content-between'>\r\n        <span className='text-main'>Total Price: <span className='text-black'>{cartPrice} EGP</span></span>\r\n        <span className='text-main'>Total Cart Items: <span className='text-black'>{cartItemsNumber}</span></span>\r\n      </div>\r\n      {(products?.length === 0) ? (\r\n        <div className='d-flex justify-content-center'>\r\n          <img src={EmptyCart} alt='emptyCart' className='w-50 text-center' />\r\n        </div>\r\n      ) : (\r\n        products.map((product) => (\r\n          <div className=\"row border-top p-4 m-1 align-items-center\" key={product._id}>\r\n            <div className=\"col-md-1\">\r\n              <img src={product.product.imageCover} className='w-100' alt=\"product_img\" />\r\n            </div>\r\n            <div className=\"col-md-11\">\r\n              <div className=\"d-flex justify-content-between\">\r\n                <div className=\"col-md-9\">\r\n                  <h4>{product.product.title}</h4>\r\n                  <h6 className='text-main my-3'>Price: <span className='text-black'>{product.price} EGP</span> </h6>\r\n                  <h6 className='cursor-pointer' onClick={() => { removeCart(product.product._id) }}>\r\n                    <i className='fa-solid fa-trash-can text-danger'></i> Remove\r\n                  </h6>\r\n                </div>\r\n                <div className=\"col-md-3 text-end pt-4\">\r\n                  <button className='btn btn-outline-main fw-bold' onClick={() => { CartQuantity(product.product._id, product.count + 1) }}>+</button>\r\n                  <span className='mx-2'>{product.count}</span>\r\n                  <button className='btn btn-outline-main fw-bold' onClick={() => { CartQuantity(product.product._id, product.count - 1) }} disabled={product.count === 1 ? 'disabled' : false}>-</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))\r\n      )}\r\n      {(products?.length === 0) ? ('') : (<Link to={'/checkout'} className='btn bg-main w-100 text-white'>Checkout</Link>)}\r\n    </div>\r\n  )\r\n}\r\n"],"names":["Cart","getLoggedCart","removeProductCart","updateCartQuantity","setNumOfCartItems","useContext","CartContext","products","setProducts","useState","cartPrice","setCartPrice","cartItemsNumber","setCartItemsNumber","loading","setLoading","async","CartQuantity","id","count","data","totalCartPrice","numOfCartItems","useEffect","undefined","error","console","getCart","_jsx","Loader","_jsxs","className","children","Helmet","length","src","EmptyCart","alt","map","product","imageCover","title","price","onClick","removeCart","_id","disabled","Link","to"],"sourceRoot":""}