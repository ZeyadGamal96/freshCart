"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[790],{4768:(t,e,a)=>{a.r(e),a.d(e,{default:()=>r});var s=a(5043),c=a(1521);const n=a.p+"static/media/empty-cart.6ecc21f8e083ec4f0829.png";var i=a(1591),l=a(4362),d=a(5475),o=a(579);function r(){const{getLoggedCart:t,removeProductCart:e,updateCartQuantity:a,setNumOfCartItems:r}=(0,s.useContext)(c.M),[m,u]=(0,s.useState)([]),[x,v]=(0,s.useState)(0),[h,j]=(0,s.useState)(0),[p,f]=(0,s.useState)(!0);async function N(t,e){const{data:s}=await a(t,e);v(null===s||void 0===s?void 0:s.data.totalCartPrice),u(null===s||void 0===s?void 0:s.data.products),j(null===s||void 0===s?void 0:s.numOfCartItems),f(!1)}return(0,s.useEffect)((()=>{!async function(){const{data:e}=await t();u(null===e||void 0===e?void 0:e.data.products),v(null===e||void 0===e?void 0:e.data.totalCartPrice),j(null===e||void 0===e?void 0:e.numOfCartItems),r(null===e||void 0===e?void 0:e.numOfCartItems),f(!1)}()}),[]),p?(0,o.jsx)(l.A,{}):(0,o.jsxs)("div",{className:"container bg-main-light p-4 min-vh-100",children:[(0,o.jsx)(i.m,{children:(0,o.jsx)("title",{children:"Cart"})}),(0,o.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:(0,o.jsx)("h2",{className:"h1",children:"Shop Cart:"})}),(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsxs)("span",{className:"text-main",children:["Total Price: ",(0,o.jsxs)("span",{className:"text-black",children:[x," EGP"]})]}),(0,o.jsxs)("span",{className:"text-main",children:["Total Cart Items: ",(0,o.jsx)("span",{className:"text-black",children:h})]})]}),0===(null===m||void 0===m?void 0:m.length)?(0,o.jsx)("div",{className:"d-flex justify-content-center",children:(0,o.jsx)("img",{src:n,alt:"emptyCart",className:"w-50 text-center"})}):null===m||void 0===m?void 0:m.map((t=>(0,o.jsxs)("div",{className:"row border-top p-4 m-1 align-items-center",children:[(0,o.jsx)("div",{className:"col-md-1",children:(0,o.jsx)("img",{src:t.product.imageCover,className:"w-100",alt:"product_img"})}),(0,o.jsx)("div",{className:"col-md-11",children:(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsxs)("div",{className:"col-md-9",children:[(0,o.jsx)("h4",{children:t.product.title}),(0,o.jsxs)("h6",{className:"text-main my-3",children:["Price: ",(0,o.jsxs)("span",{className:"text-black",children:[t.price," EGP"]})," "]}),(0,o.jsxs)("h6",{className:"cursor-pointer",onClick:()=>{!async function(t){const{data:a}=await e(t);u(null===a||void 0===a?void 0:a.data.products),v(null===a||void 0===a?void 0:a.data.totalCartPrice),r(null===a||void 0===a?void 0:a.numOfCartItems),j(null===a||void 0===a?void 0:a.numOfCartItems),f(!1)}(t.product._id)},children:[(0,o.jsx)("i",{className:"fa-solid fa-trash-can text-danger"})," Remove"]})]}),(0,o.jsxs)("div",{className:"col-md-3 text-end pt-4",children:[(0,o.jsx)("button",{className:"btn btn-outline-main fw-bold",onClick:()=>{N(t.product._id,t.count+1)},children:"+"}),(0,o.jsx)("span",{className:"mx-2",children:t.count}),(0,o.jsx)("button",{className:"btn btn-outline-main fw-bold",onClick:()=>{N(t.product._id,t.count-1)},disabled:1===t.count&&"disabled",children:"-"})]})]})})]},t._id))),0===(null===m||void 0===m?void 0:m.length)?"":(0,o.jsx)(d.N_,{to:"/checkout",className:"btn bg-main w-100 text-white",children:"Checkout"})]})}}}]);
//# sourceMappingURL=790.82ca031e.chunk.js.map